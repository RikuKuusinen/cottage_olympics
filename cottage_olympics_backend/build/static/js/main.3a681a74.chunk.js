(this.webpackJsonpcottage_olympics=this.webpackJsonpcottage_olympics||[]).push([[0],{294:function(e,t,n){},296:function(e,t,n){},505:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),c=n.n(o),i=(n(294),n(32)),s=n.n(i),l=n(46),u=n(26),j=(n(296),n(83)),d=n(20),b=n(278),p=n(550),h=n(551),m=n(552),O=n(553),x=n(64),g=(n(166),n(266)),f=n.n(g),v=n(65),y=n.n(v),w="api/sports";["localhost","127.0.0.1"].includes(window.location.hostname)&&(w="http://localhost:3003/api/sports");var S={getAll:function(){return y.a.get(w).then((function(e){return e.data}))},create:function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post(w,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteSport:function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat(w,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=n(549),k=n(563),N=n(548),F=n(546),B=n(547),I=n(545),L=n(9),T=function(e){var t=e.open,n=e.handleClose;return Object(L.jsxs)(k.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(L.jsx)(I.a,{id:"alert-dialog-title",children:"Poistetaanko laji pysyv\xe4sti?"}),Object(L.jsx)(F.a,{children:Object(L.jsx)(B.a,{id:"alert-dialog-description",children:"Lajia ei v\xe4ltt\xe4m\xe4tt\xe4 voida poistaa jos siihen on jo kirjattu suorituksia"})}),Object(L.jsxs)(N.a,{children:[Object(L.jsx)(C.a,{onClick:function(){return n(!1)},color:"primary",children:"Peruuta"}),Object(L.jsx)(C.a,{onClick:function(){return n(!0)},color:"primary",autoFocus:!0,children:"Poista"})]})]})},E=Object(p.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:"inherit",color:"white","& span":{color:"white",secondary:"white"},"& .MuiTypography-colorTextSecondary":{color:"white"},title:{margin:"0"}},customListItem:{border:"2px solid white !important",borderRadius:"6px",padding:"0.3rem !important",backgroundColor:"#8940B9 !important",marginBottom:"2px !important"},removeButton:{color:"mediumvioletred",border:"2px lightgray outset",backgroundColor:"white",borderRadius:"50%"}}})),P=function(){var e=E(),t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(u.a)(c,2),j=i[0],d=i[1],p=Object(a.useState)(""),g=Object(u.a)(p,2),v=g[0],y=g[1],w=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),d(!1),!t){e.next=8;break}return e.next=5,S.deleteSport(v);case 5:n=e.sent,console.log(200===n.status),200===n.status&&(a=Object(b.a)(r),console.log(a),a=a.filter((function(e){return e.SportId!==v})),console.log(a),o(a),y(""));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S.getAll().then((function(e){console.log(e),o(e)}))}),[]);return Object(L.jsx)("div",{className:e.root,children:Object(L.jsxs)(h.a,{container:!0,spacing:2,children:[Object(L.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(L.jsx)("div",{className:e.demo,children:Object(L.jsx)(x.b,{className:e.demo,children:r.map((function(t,n){return Object(L.jsxs)(x.c,{className:e.customListItem,children:[Object(L.jsx)(m.a,{primary:t.SportName,secondary:t.SportDescription}),Object(L.jsx)(O.a,{children:Object(L.jsx)(x.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){console.log(e),y(e),d(!0)}(t.SportId)},children:Object(L.jsx)(f.a,{className:e.removeButton})})})]},t.SportId)}))})})}),Object(L.jsx)(T,{open:j,handleClose:w})]})})},M="api/users";["localhost","127.0.0.1"].includes(window.location.hostname)&&(M="http://localhost:3003/api/users");var A=function(){return y.a.get(M).then((function(e){return e.data}))},K=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){A().then((function(e){console.log(e),r(e)}))}),[]),Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:"Tilastot"}),n.map((function(e,t){return Object(L.jsx)("div",{children:e.UserName},t)}))]})},R=function(){return Object(L.jsx)("h2",{children:"Kuvat ehk\xe4 :D "})},U=n(559),W=n(560),D=(n.p,n.p+"static/media/30balloons.e406932e.jpg"),J=n(277),G=n(554),z=n(555),_=n(84),V=n(556),q=n(268),H=n.n(q),Q=n(564),X=n(562),Y=(n(267),n.p+"static/media/downbythelaituri.23a00da6.jpg"),Z=function(e){return console.log(e),Object(L.jsx)("div",{children:Object(L.jsx)("img",{src:Y,className:e.className})})};Z.prototype={username:"",className:""};var $=Z,ee=(Object(J.a)({palette:{background:{xs:"red",sm:"blue",md:"green"}}}),Object(p.a)((function(){return{root:{flexGrow:1},title:{flexGrow:1,fontWeight:600},test:{background:"#1B065E !important"},menuapp:{height:"10em",width:"14em",padding:0,marginTop:"-10px",marginBottom:"-12px"}}})));function te(e){var t=e.user;console.log(t);var n=t?t.username:"",a=ee(),o=r.a.useState(!0),c=Object(u.a)(o,2),i=c[0],s=(c[1],r.a.useState(null)),l=Object(u.a)(s,2),j=l[0],d=l[1],b=Boolean(j),p=function(){d(null)};return Object(L.jsx)("div",{className:a.root,children:Object(L.jsx)(G.a,{position:"static",children:Object(L.jsxs)(z.a,{children:[Object(L.jsx)(V.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"}),Object(L.jsx)(_.a,{variant:"h5",className:a.title,children:"M\xf6kkiolympialaiset"}),i&&Object(L.jsxs)("div",{children:[Object(L.jsxs)(V.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit",children:[Object(L.jsx)(H.a,{}),n]}),Object(L.jsx)(X.a,{id:"menu-appbar",anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:p,children:Object(L.jsx)(Q.a,{className:a.menuapp,onClick:p,children:Object(L.jsx)($,{username:n,className:a.menuapp})})})]})]})})})}var ne,ae=n(269),re=n(558),oe=n(557),ce=n(273),ie=n.n(ce),se=n(275),le=n.n(se),ue=n(274),je=n.n(ue),de=n(121),be=Object(p.a)({root:{width:"inherit",maxWidth:"inherit",position:"fixed",bottom:0,backgroundColor:"#1B065E"},test:{color:"#FCC8C2"}}),pe=Object(de.b)(oe.a)(ne||(ne=Object(ae.a)(["\n  .MuiBottomNavigationAction-root.Mui-selected {\n    color: white !important;\n  }\n"])));function he(){var e=be(),t=r.a.useState(0),n=Object(u.a)(t,2),a=n[0],o=n[1];return Object(L.jsxs)(re.a,{value:a,onChange:function(e,t){console.log(t),o(t)},showLabels:!0,className:e.root,children:[Object(L.jsx)(pe,{component:j.b,to:"/home",className:e.test,label:"Lajit",icon:Object(L.jsx)(ie.a,{})}),Object(L.jsx)(pe,{component:j.b,to:"/statistics",className:e.test,label:"Tilastot",icon:Object(L.jsx)(je.a,{})}),Object(L.jsx)(pe,{component:j.b,to:"/pictures",className:e.test,label:"Kuvat?",icon:Object(L.jsx)(le.a,{})})]})}var me=function(e){var t=e.handleSubmit,n=e.handleUsernameChange,a=e.username,r=e.className;return Object(L.jsx)("div",{children:Object(L.jsxs)("form",{onSubmit:t,noValidate:!0,autoComplete:"off",children:[Object(L.jsx)(x.d,{className:r,id:"outlined-basic",label:"K\xe4ytt\xe4j\xe4tunnus",variant:"outlined",value:a,onChange:n,inputStyle:{color:"white"},floatingLabelText:"K\xe4ytt\xe4j\xe4tunnus",floatingLabelStyle:{color:"white"}}),Object(L.jsx)(C.a,{type:"submit",variant:"contained",color:"primary",children:"Kirjaudu"})]})})},Oe=n(276),xe={paperContainer:{backgroundImage:"url(".concat(D,")"),height:"100vh",backgroundPosition:"-5rem 14rem",backgroundRepeat:"no-repeat",backgroundColor:"#383838",color:"white",paddingLeft:0,paddingRight:0}},ge=Object(J.a)({palette:{primary:{main:"#FFFF"},secondary:{main:"#FFFF"}}}),fe=Object(p.a)({boxStyles:{backgroundColor:"#1b065e",padding:"1rem",margin:"1rem",opacity:"0.8",borderRadius:15},inputStyles:{color:"white",border:"6px white"}}),ve=function(){var e=fe(),t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(null),i=Object(u.a)(c,2),b=i[0],p=i[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("loggedCottageAppUser");if(e){var t=JSON.parse(e);p(t)}}),[]);var h=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{n={username:r},window.localStorage.setItem("loggedCottageAppUser",JSON.stringify(n)),p(n),o("")}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(Oe.MuiThemeProvider,{children:Object(L.jsx)(j.a,{children:Object(L.jsx)(de.a,{theme:ge,children:null===b?Object(L.jsxs)(U.a,{maxWidth:"sm",style:xe.paperContainer,user:b,children:[Object(L.jsx)(te,{}),Object(L.jsx)(W.a,{my:4,className:e.boxStyles,children:Object(L.jsx)(me,{className:e.inputStyles,username:r,handleUsernameChange:function(e){var t=e.target;return o(t.value)},handleSubmit:h})})]}):Object(L.jsxs)(U.a,{maxWidth:"sm",style:xe.paperContainer,children:[Object(L.jsx)(te,{user:b}),Object(L.jsx)(W.a,{my:4,className:e.boxStyles,children:Object(L.jsxs)(d.c,{children:[Object(L.jsx)(d.a,{path:"/statistics",children:Object(L.jsx)(K,{})}),Object(L.jsx)(d.a,{path:"/pictures",children:Object(L.jsx)(R,{})}),Object(L.jsx)(d.a,{path:"/",children:Object(L.jsx)(P,{})})]})}),Object(L.jsx)(he,{})]})})})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,567)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(L.jsx)(ve,{}),document.getElementById("root")),ye()}},[[505,1,2]]]);
//# sourceMappingURL=main.3a681a74.chunk.js.map